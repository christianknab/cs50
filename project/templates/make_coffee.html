{% extends "layout.html" %}

{% block title %}
    Make Coffee
{% endblock %}

{% block main %}
    <p class="mt-1" style="font-size: xx-large; color: #332211;"><b>Coffee Calculator</b></p>
    <p>Controlling all the variables in making coffee ensures consistent brews. Start with a ratio of 60 grams of coffee per liter of water.</p>
    <form action="/make" method="post">
        <div class="container">
            <div class="row">
                <div class="col-sm">
                    <label for="ratio">Ratio (Grams Coffee / 1 Liter Water):</label>
                    <input autocomplete="off" style="width: 35px;" id="ratio" name="ratio" placeholder="60" type="text" value="60">
                    <footer style="font-size: 15px">Increase for stronger brews, decrease for lighter brews</footer>
                </div>
                <div class="col-sm">
                    <label for="water">Water (g):</label>
                    <input autocomplete="off" style="width: 50px;" id="water" name="water" placeholder="400" type="text" value="400">
                    <footer style="font-size: 15px">1 cup coffee ~ 250 g water</footer>
                </div>
                <div class="col-sm">
                    <button class="btn btn-primary" type="submit">Calculate</button>
                </div>
            </div>
        </div>
    </form>

    <div class="mt-5" style="font-size:40px;">
        <u><b>20</b> grams of coffee</u>
    </div>

<!-- 
Title: Dynamic Stopwatch
Author: CodingLab
Date: October 12, 2021
Availabiliy: CODING LAB WEB: https://www.codinglabweb.com/2021/10/Stopwatch-HTML-CSS-JavaScript.html 
-->

    <p class="mt-5"><hr/></p>
    <p class="mt-5" style="font-size: xx-large; color: #332211;"><b>Coffee Stopwatch</b></p>
    <div class="wrapper mt-5">
        <div class="time">
          <span class="hour">00</span>
          <span class="colon">:</span>
          <span class="minute">00</span>
          <span class="colon">:</span>
          <span class="second">00</span>
          <span class="colon ms-colon">:</span>
          <span class="millisecond">00</span>
        </div>
        <div class="buttons">
          <button class="start">Start</button>
          <button class="stop">Stop</button>
          <button class="reset">Reset</button>
        </div>
      </div>

    <script>
        let hr = min = sec = ms = "0" + 0,
        startTimer;

        const startBtn = document.querySelector(".start"),
        stopBtn = document.querySelector(".stop"),
        resetBtn = document.querySelector(".reset");

        startBtn.addEventListener("click", start);
        stopBtn.addEventListener("click", stop);
        resetBtn.addEventListener("click", reset);

        function start() {
        startBtn.classList.add("active");
        stopBtn.classList.remove("stopActive");

        startTimer = setInterval(()=>{
            ms++
            ms = ms < 10 ? "0" + ms : ms;

            if(ms == 100){
            sec++;
            sec = sec < 10 ? "0" + sec : sec;
            ms = "0" + 0;
            }
            if(sec == 60){
            min++;
            min = min < 10 ? "0" + min : min;
            sec = "0" + 0;
            }
            if(min == 60){
            hr++;
            hr = hr < 10 ? "0" + hr : hr;
            min = "0" + 0;
            }
            putValue();
        },10); //1000ms = 1s

        }

        function stop() {
        startBtn.classList.remove("active");
        stopBtn.classList.add("stopActive");
        clearInterval(startTimer);
        }
        function reset() {
        startBtn.classList.remove("active");
        stopBtn.classList.remove("stopActive");
        clearInterval(startTimer);
        hr = min = sec = ms = "0" + 0;
        putValue();
        }

        function putValue() {
        document.querySelector(".millisecond").innerText = ms;
        document.querySelector(".second").innerText = sec;
        document.querySelector(".minute").innerText = min;
        document.querySelector(".hour").innerText = hr;
        }
   </script>

{% endblock %}
